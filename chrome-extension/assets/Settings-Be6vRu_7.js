import{c as p,u as Me,r as b,j as e,t as i,P as E,a as Te,b as le,L as ae,W as ze,D as Le,U as Ae,T as U,d as Pe,e as te,C as Ee,f as oe,X as Ue,h as ne,i as Se}from"./index-D5510YS0.js";import{M as ie,L as Fe}from"./monitor-Cr8Naepd.js";import{L as ce}from"./loader-circle-AX2lABAj.js";/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],S=p("arrow-left",Ie);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],_e=p("database",$e);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],We=p("ellipsis",Be);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M12.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v9.34",key:"o6klzx"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10.378 12.622a1 1 0 0 1 3 3.003L8.36 20.637a2 2 0 0 1-.854.506l-2.867.837a.5.5 0 0 1-.62-.62l.836-2.869a2 2 0 0 1 .506-.853z",key:"zhnas1"}]],de=p("file-pen",De);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],ge=p("hash",Re);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],He=p("image",Ke);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Ve=p("key",qe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Je=p("languages",Ge);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ze=p("message-square",Oe);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],Ye=p("thermometer",Xe),Qe=[Pe,"https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=2564","https://images.unsplash.com/photo-1620641788421-7a1c342ea42e?q=80&w=2574","https://images.unsplash.com/photo-1477346611705-65d1883cee1e?q=80&w=2670"],es=d=>{try{return new URL(d),!0}catch{return!1}},L=({checked:d,onChange:c})=>e.jsx("div",{onClick:()=>c(!d),className:`w-12 h-7 rounded-full p-1 cursor-pointer transition-colors duration-300 ease-in-out ${d?"bg-[#34C759]":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform duration-300 ease-in-out ${d?"translate-x-5":"translate-x-0"}`})}),v=({title:d})=>e.jsx("div",{className:"px-4 pb-2 pt-6 text-xs font-semibold uppercase tracking-wider",style:{color:"rgba(255, 255, 255, 0.5)"},children:d}),F=d=>{const c=d.trim();if(!c)return"";if(c.includes("/chat/completions"))return c;let h=c.replace(/\/+$/,"");return h.includes("/v1")?(h.endsWith("/v1")||h.includes("/v1/")&&!h.includes("/chat/completions"))&&(h+="/chat/completions"):h+="/v1/chat/completions",h},x=({icon:d,label:c,children:h,isLast:I,onClick:$,hasChevron:_})=>e.jsxs("div",{className:"flex items-center justify-between p-4 transition-all cursor-pointer",style:{backgroundColor:"rgba(255, 255, 255, 0.03)",borderBottom:I?"none":"0.5px solid rgba(255, 255, 255, 0.08)"},onMouseEnter:j=>j.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.08)",onMouseLeave:j=>j.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.03)",onClick:$,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.7)"},children:e.jsx(d,{size:18})}),e.jsx("span",{className:"text-sm font-medium",style:{color:"rgba(255, 255, 255, 0.9)"},children:c})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[h,_&&e.jsx(Se,{size:18,style:{color:"rgba(255, 255, 255, 0.4)"}})]})]}),as=({setWp:d,settings:c,onUpdate:h,onExport:I,onImport:$,onReset:_,onEditConfig:j,shortcuts:N,onShortcutUpdate:ue,onEditShortcut:W,onDeleteApp:D,allApps:me,onRestoreSystemApp:xe})=>{const k=Me(),R=b.useRef(null),K=b.useRef(null),[H,q]=b.useState(!1),[V,G]=b.useState(!1),[J,O]=b.useState(!1),[Z,X]=b.useState(!1),[B,Y]=b.useState(""),[f,he]=b.useState(()=>{try{const s=localStorage.getItem("ai-providers");return s?JSON.parse(s):[]}catch{return[]}}),[a,g]=b.useState(null),[be,A]=b.useState(!1),[C,Q]=b.useState(!1),o=c.language||"zh",P=(s,l)=>{const r=s.filter(m=>l==="app"?m.type!=="widget":m.type==="widget"),n=new Map;r.forEach(m=>{const y=m.title||"";n.has(y)||n.set(y,[]),n.get(y).push(m)});const u=(m,y)=>{const T=/[\u4e00-\u9fa5]/.test(m),z=/[\u4e00-\u9fa5]/.test(y),se=/^[a-zA-Z]/.test(m),re=/^[a-zA-Z]/.test(m);return T&&!z?-1:!T&&z?1:se&&!re&&!z?-1:!se&&re&&!T?1:m.localeCompare(y,"zh-CN")},t=[];return Array.from(n.keys()).sort(u).forEach(m=>{const y=n.get(m);y.forEach((T,z)=>{t.push({...T,displayName:y.length>1?`${m} ${z+1}`:m})})}),t},w=(s,l)=>{h({...c,[s]:l})},M=s=>{he(s),localStorage.setItem("ai-providers",JSON.stringify(s))},pe=()=>{const s={id:Date.now().toString(),name:"Êñ∞Âª∫ API",apiUrl:"https://api.openai.com/v1/chat/completions",apiKey:"",models:[],customModels:[],temperature:.7,maxTokens:2e3};g(s),A(!0)},ye=()=>{if(!a)return;const s={...a,apiUrl:F(a.apiUrl)};M(be?[...f,s]:f.map(l=>l.id===s.id?s:l)),g(null),A(!1)},fe=async s=>{await k.showConfirm("Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™ API Êèê‰æõÂïÜÂêóÔºü")&&M(f.filter(l=>l.id!==s))},je=async s=>{try{let l=s.apiUrl;l.includes("/chat/completions")?l=l.replace("/chat/completions","/models"):l.includes("/v1")?l=l.replace(/\/+$/,"")+"/models":l=l.replace(/\/+$/,"")+"/v1/models";const r=await fetch(l,{headers:{Authorization:`Bearer ${s.apiKey}`}});if(!r.ok)throw new Error("Êó†Ê≥ïËé∑ÂèñÊ®°ÂûãÂàóË°®");return((await r.json()).data?.map(t=>t.id)||[]).filter(t=>t.includes("gpt")||t.includes("claude")||t.includes("llama")||t.includes("gemini")||!t.includes("whisper")&&!t.includes("tts")&&!t.includes("dall-e"))}catch(l){return console.error("Failed to fetch models:",l),[]}},ke=async s=>{if(!s.apiUrl||!s.apiKey){console.log("Missing apiUrl or apiKey");return}Q(!0),console.log("Fetching models for:",s.apiUrl);const l={...s,apiUrl:F(s.apiUrl)},r=await je(l);if(console.log("Fetched models:",r),r.length>0){const n=new Set(s.customModels),u=r.filter(t=>!n.has(t));g(t=>t?{...t,customModels:[...t.customModels,...u],apiUrl:l.apiUrl}:null)}Q(!1)},ve=async s=>{const l=await k.showPrompt("ËæìÂÖ•Ëá™ÂÆö‰πâÊ®°ÂûãÂêçÁß∞Ôºö");l&&l.trim()&&(a&&a.id===s?g({...a,customModels:[...a.customModels,l.trim()]}):M(f.map(r=>r.id===s?{...r,customModels:[...r.customModels,l.trim()]}:r)))},Ne=(s,l)=>{a&&a.id===s?g({...a,customModels:a.customModels.filter(r=>r!==l)}):M(f.map(r=>r.id===s?{...r,customModels:r.customModels.filter(n=>n!==l)}:r))},Ce=s=>{const l=s.target.files?.[0];l&&$(l),s.target&&(s.target.value="")},we=async s=>{const l=s.target.files?.[0];if(l){if(!l.type.startsWith("image/")){k.showAlert("ËØ∑ÈÄâÊã©ÂõæÁâáÊñá‰ª∂");return}if(l.size>5*1024*1024){k.showAlert("ÂõæÁâáÂ§ßÂ∞è‰∏çËÉΩË∂ÖËøá 5MB");return}const r=new FileReader;r.onload=n=>{const u=n.target?.result;d(u)},r.readAsDataURL(l)}s.target&&(s.target.value="")},ee=()=>{B.trim()&&(d(B.trim()),Y(""))};return e.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[e.jsx("input",{type:"file",ref:R,onChange:Ce,className:"hidden",accept:".yaml,.yml,.json","aria-label":"Import configuration file",title:"Import configuration file"}),e.jsx("input",{type:"file",ref:K,onChange:we,className:"hidden",accept:"image/*","aria-label":"Upload wallpaper",title:"Upload wallpaper"}),e.jsx("div",{className:"flex-1 overflow-y-auto",onWheel:s=>s.stopPropagation(),children:!H&&!V&&!J&&!Z?e.jsxs(e.Fragment,{children:[e.jsx(v,{title:i(o,"interfaceLayout")}),e.jsxs("div",{className:"mx-4 rounded-xl overflow-hidden shadow-sm",style:{backgroundColor:"rgba(255, 255, 255, 0.05)"},children:[e.jsx(x,{icon:ie,label:i(o,"showDockBar"),children:e.jsx(L,{checked:c.showDock,onChange:s=>w("showDock",s)})}),e.jsx(x,{icon:E,label:i(o,"showDockEditButton"),children:e.jsx(L,{checked:c.showDockEdit,onChange:s=>w("showDockEdit",s)})}),e.jsx(x,{icon:Te,label:i(o,"desktopSearchBar"),children:e.jsx(L,{checked:c.showSearchBar,onChange:s=>w("showSearchBar",s)})}),e.jsx(x,{icon:We,label:i(o,"paginationDots"),isLast:!0,children:e.jsx(L,{checked:c.showPagination,onChange:s=>w("showPagination",s)})})]}),e.jsx(v,{title:"Â∫îÁî®‰∏éÂ∞èÁªÑ‰ª∂"}),e.jsxs("div",{className:"mx-4 rounded-xl overflow-hidden shadow-sm",style:{backgroundColor:"rgba(255, 255, 255, 0.05)"},children:[e.jsx(x,{icon:le,label:"Â∫îÁî®ÁÆ°ÁêÜ",onClick:()=>O(!0),hasChevron:!0}),e.jsx(x,{icon:ae,label:"Â∞èÁªÑ‰ª∂ÁÆ°ÁêÜ",onClick:()=>X(!0),hasChevron:!0,isLast:!0})]}),e.jsx(v,{title:i(o,"personalization")}),e.jsx("div",{className:"mx-4 rounded-xl overflow-hidden shadow-sm",style:{backgroundColor:"rgba(255, 255, 255, 0.05)"},children:e.jsx(x,{icon:ze,label:i(o,"wallpapers"),onClick:()=>q(!0),hasChevron:!0,isLast:!0})}),e.jsx(v,{title:"AI Âä©Êâã"}),e.jsx("div",{className:"mx-4 rounded-xl overflow-hidden shadow-sm",style:{backgroundColor:"rgba(255, 255, 255, 0.05)"},children:e.jsx(x,{icon:Ze,label:"AI ÈÖçÁΩÆ",onClick:()=>G(!0),hasChevron:!0,isLast:!0})}),e.jsx(v,{title:i(o,"language")}),e.jsx("div",{className:"mx-4 rounded-xl overflow-hidden shadow-sm",style:{backgroundColor:"rgba(255, 255, 255, 0.05)"},children:e.jsx(x,{icon:Je,label:i(o,"language"),children:e.jsxs("select",{value:c.language||"zh",onChange:s=>w("language",s.target.value),className:"px-3 py-1.5 rounded-lg outline-none cursor-pointer appearance-none transition-all hover:bg-white/15",style:{backgroundColor:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",color:"rgba(255, 255, 255, 0.9)",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='rgba(255,255,255,0.5)' d='M6 9L1 4h10z'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 8px center",paddingRight:"28px"},onClick:s=>s.stopPropagation(),children:[e.jsx("option",{value:"zh",style:{backgroundColor:"#2a2a2a",color:"#fff",padding:"8px"},children:i(o,"chinese")}),e.jsx("option",{value:"en",style:{backgroundColor:"#2a2a2a",color:"#fff",padding:"8px"},children:i(o,"english")})]})})}),e.jsx(v,{title:i(o,"dataManagement")}),e.jsxs("div",{className:"mx-4 rounded-xl overflow-hidden shadow-sm mb-8",style:{backgroundColor:"rgba(255, 255, 255, 0.05)"},children:[e.jsx(x,{icon:Le,label:i(o,"exportConfig"),onClick:I}),e.jsx(x,{icon:Ae,label:i(o,"importConfig"),onClick:()=>R.current?.click()}),j&&e.jsx(x,{icon:de,label:i(o,"editConfig"),onClick:j}),e.jsx(x,{icon:U,label:i(o,"resetToDefault"),onClick:_,isLast:!0})]})]}):H?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 flex items-center gap-3 cursor-pointer transition-all",style:{borderBottom:"0.5px solid rgba(255, 255, 255, 0.1)"},onMouseEnter:s=>s.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.05)",onMouseLeave:s=>s.currentTarget.style.backgroundColor="transparent",onClick:()=>q(!1),children:[e.jsx(S,{size:20,style:{color:"rgba(255, 255, 255, 0.7)"}}),e.jsx("span",{className:"text-base font-medium",style:{color:"rgba(255, 255, 255, 0.9)"},children:i(o,"wallpapers")})]}),e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider mb-3",style:{color:"rgba(255, 255, 255, 0.5)"},children:"È¢ÑËÆæÂ£ÅÁ∫∏"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Qe.map((s,l)=>e.jsx("div",{onClick:()=>d(s),className:"aspect-video rounded-lg overflow-hidden cursor-pointer transition-all shadow-lg",style:{border:"2px solid rgba(255, 255, 255, 0.1)",transform:"scale(1)"},onMouseEnter:r=>{r.currentTarget.style.transform="scale(1.05)",r.currentTarget.style.borderColor="#007AFF"},onMouseLeave:r=>{r.currentTarget.style.transform="scale(1)",r.currentTarget.style.borderColor="rgba(255, 255, 255, 0.1)"},children:e.jsx("img",{src:s,className:"w-full h-full object-cover",alt:`Wallpaper ${l}`})},l))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider mb-3",style:{color:"rgba(255, 255, 255, 0.5)"},children:"Ëá™ÂÆö‰πâÈìæÊé•"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:B,onChange:s=>Y(s.target.value),onKeyDown:s=>s.key==="Enter"&&ee(),placeholder:"https://example.com/image.jpg",className:"flex-1 px-4 py-2.5 rounded-lg outline-none transition-all",style:{backgroundColor:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",color:"rgba(255, 255, 255, 0.9)"}}),e.jsx("button",{onClick:ee,className:"px-4 py-2.5 rounded-lg font-medium transition-all active:scale-95",style:{backgroundColor:"#007AFF",color:"white"},onMouseEnter:s=>s.currentTarget.style.filter="brightness(1.1)",onMouseLeave:s=>s.currentTarget.style.filter="brightness(1)",children:e.jsx(Fe,{size:18})})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider mb-3",style:{color:"rgba(255, 255, 255, 0.5)"},children:"‰∏ä‰º†ÂõæÁâá"}),e.jsxs("button",{onClick:()=>K.current?.click(),className:"w-full p-4 rounded-lg transition-all flex items-center justify-center gap-3",style:{backgroundColor:"rgba(255, 255, 255, 0.08)",border:"2px dashed rgba(255, 255, 255, 0.2)",color:"rgba(255, 255, 255, 0.7)"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.12)",s.currentTarget.style.borderColor="#007AFF"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.08)",s.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},children:[e.jsx(He,{size:20}),e.jsx("span",{className:"font-medium",children:"ÈÄâÊã©ÂõæÁâáÊñá‰ª∂"})]}),e.jsx("div",{className:"text-xs mt-2",style:{color:"rgba(255, 255, 255, 0.4)"},children:"ÊîØÊåÅ JPG„ÄÅPNG„ÄÅWebP Á≠âÊ†ºÂºèÔºåÊúÄÂ§ß 5MB"})]})]})]}):V?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 flex items-center gap-3 cursor-pointer transition-all",style:{borderBottom:"0.5px solid rgba(255, 255, 255, 0.1)"},onMouseEnter:s=>s.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.05)",onMouseLeave:s=>s.currentTarget.style.backgroundColor="transparent",onClick:()=>{G(!1),g(null),A(!1)},children:[e.jsx(S,{size:20,style:{color:"rgba(255, 255, 255, 0.7)"}}),e.jsx("span",{className:"text-base font-medium",style:{color:"rgba(255, 255, 255, 0.9)"},children:"AI ÈÖçÁΩÆ"})]}),a?e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"rgba(255, 255, 255, 0.5)"},children:"Êèê‰æõÂïÜÂêçÁß∞"}),e.jsx("input",{type:"text",value:a.name,onChange:s=>g({...a,name:s.target.value}),placeholder:"‰æãÂ¶Ç: OpenAI, Claude, ÈÄö‰πâÂçÉÈóÆ",className:"w-full px-4 py-2.5 rounded-lg outline-none transition-all text-sm",style:{backgroundColor:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",color:"rgba(255, 255, 255, 0.9)"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"rgba(255, 255, 255, 0.5)"},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_e,{size:14}),"API Âú∞ÂùÄ"]})}),e.jsx("input",{type:"text",value:a.apiUrl,onChange:s=>g({...a,apiUrl:s.target.value}),onBlur:s=>{const l=F(s.target.value);g({...a,apiUrl:l})},placeholder:"https://api.openai.com Êàñ https://api.openai.com/v1",className:"w-full px-4 py-2.5 rounded-lg outline-none transition-all text-sm",style:{backgroundColor:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",color:"rgba(255, 255, 255, 0.9)"}}),a.apiUrl&&e.jsxs("div",{className:"text-xs mt-1.5 font-mono",style:{color:"rgba(255, 255, 255, 0.5)"},children:["ÂÆåÊï¥Âú∞ÂùÄ: ",F(a.apiUrl)||a.apiUrl]}),e.jsx("div",{className:"text-xs mt-1",style:{color:"rgba(255, 255, 255, 0.4)"},children:"Ëá™Âä®Ë°•ÂÖ®‰∏∫ /v1/chat/completions Á´ØÁÇπ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"rgba(255, 255, 255, 0.5)"},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{size:14}),"API Key",C&&e.jsx(ce,{size:12,className:"animate-spin"})]})}),e.jsx("input",{type:"password",value:a.apiKey,onChange:s=>g({...a,apiKey:s.target.value}),placeholder:"sk-...",className:"w-full px-4 py-2.5 rounded-lg outline-none transition-all text-sm font-mono",style:{backgroundColor:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",color:"rgba(255, 255, 255, 0.9)"},disabled:C}),e.jsx("div",{className:"text-xs mt-1.5",style:{color:"rgba(255, 255, 255, 0.4)"},children:"‰Ω†ÁöÑ API ÂØÜÈí•Ôºå‰ªÖÂ≠òÂÇ®Âú®Êú¨Âú∞"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"rgba(255, 255, 255, 0.5)"},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{size:14}),"Ëá™ÂÆö‰πâÊ®°Âûã",C&&e.jsx(ce,{size:12,className:"animate-spin"})]})}),e.jsxs("button",{onClick:()=>ke(a),disabled:!a.apiUrl||!a.apiKey||C,className:"w-full mb-2 p-2 rounded-lg transition-all flex items-center justify-center gap-2 text-xs disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"rgba(10, 132, 255, 0.1)",border:"1px solid rgba(10, 132, 255, 0.3)",color:"rgba(10, 132, 255, 0.9)"},onMouseEnter:s=>{s.currentTarget.disabled||(s.currentTarget.style.backgroundColor="rgba(10, 132, 255, 0.15)")},onMouseLeave:s=>{s.currentTarget.disabled||(s.currentTarget.style.backgroundColor="rgba(10, 132, 255, 0.1)")},children:[e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"23 4 23 10 17 10"}),e.jsx("polyline",{points:"1 20 1 14 7 14"}),e.jsx("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})]}),C?"Ê≠£Âú®Ëé∑ÂèñÊ®°Âûã...":"‰ªé API Ëé∑ÂèñÊ®°ÂûãÂàóË°®"]}),e.jsxs("div",{className:"space-y-2",children:[a.customModels.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[e.jsx("span",{className:"text-sm",style:{color:"rgba(255, 255, 255, 0.8)"},children:s}),e.jsx("button",{onClick:()=>Ne(a.id,s),className:"p-1 rounded hover:bg-red-500/20 transition-all",children:e.jsx(Ue,{size:14,style:{color:"rgba(239, 68, 68, 0.8)"}})})]},s)),e.jsxs("button",{onClick:()=>ve(a.id),className:"w-full p-2 rounded-lg transition-all flex items-center justify-center gap-2 text-xs",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px dashed rgba(255, 255, 255, 0.2)",color:"rgba(255, 255, 255, 0.6)"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.08)",s.currentTarget.style.borderColor="rgba(255, 255, 255, 0.3)"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.05)",s.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},children:[e.jsx(te,{size:14}),"Ê∑ªÂä†Ëá™ÂÆö‰πâÊ®°Âûã"]})]}),e.jsx("div",{className:"text-xs mt-1.5",style:{color:"rgba(255, 255, 255, 0.4)"},children:"ÁÇπÂáª‰∏äÊñπÊåâÈíÆËé∑ÂèñÊ®°ÂûãÔºåÁÑ∂ÂêéÂà†Èô§‰∏çÈúÄË¶ÅÁöÑÊ®°Âûã"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"rgba(255, 255, 255, 0.5)"},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{size:14}),"Temperature (",a.temperature,")"]})}),e.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:a.temperature,onChange:s=>g({...a,temperature:parseFloat(s.target.value)}),className:"w-full",style:{accentColor:"#007AFF"}}),e.jsxs("div",{className:"flex justify-between text-xs mt-1",style:{color:"rgba(255, 255, 255, 0.4)"},children:[e.jsx("span",{children:"Á≤æÁ°Æ (0)"}),e.jsx("span",{children:"ÂàõÊÑè (2)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"rgba(255, 255, 255, 0.5)"},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{size:14}),"ÊúÄÂ§ß Tokens (",a.maxTokens,")"]})}),e.jsx("input",{type:"range",min:"100",max:"4000",step:"100",value:a.maxTokens,onChange:s=>g({...a,maxTokens:parseInt(s.target.value)}),className:"w-full",style:{accentColor:"#007AFF"}}),e.jsx("div",{className:"text-xs mt-1.5",style:{color:"rgba(255, 255, 255, 0.4)"},children:"ÊéßÂà∂ÂõûÂ§çÁöÑÊúÄÂ§ßÈïøÂ∫¶"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:()=>{g(null),A(!1)},className:"flex-1 px-4 py-3 rounded-lg font-medium transition-all",style:{backgroundColor:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.7)"},onMouseEnter:s=>s.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.12)",onMouseLeave:s=>s.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.08)",children:"ÂèñÊ∂à"}),e.jsx("button",{onClick:ye,className:"flex-1 px-4 py-3 rounded-lg font-medium transition-all",style:{backgroundColor:"#007AFF",color:"white"},onMouseEnter:s=>s.currentTarget.style.filter="brightness(1.1)",onMouseLeave:s=>s.currentTarget.style.filter="brightness(1)",children:"‰øùÂ≠ò"})]})]}):e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("button",{onClick:pe,className:"w-full p-4 rounded-lg transition-all flex items-center justify-center gap-3 text-sm font-medium",style:{backgroundColor:"rgba(10, 132, 255, 0.1)",border:"2px dashed rgba(10, 132, 255, 0.3)",color:"#0A84FF"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="rgba(10, 132, 255, 0.15)",s.currentTarget.style.borderColor="#0A84FF"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="rgba(10, 132, 255, 0.1)",s.currentTarget.style.borderColor="rgba(10, 132, 255, 0.3)"},children:[e.jsx(te,{size:20}),"Ê∑ªÂä† API Êèê‰æõÂïÜ"]}),f.length>0?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-xs font-semibold uppercase tracking-wider",style:{color:"rgba(255, 255, 255, 0.5)"},children:["Â∑≤ÈÖçÁΩÆÁöÑÊèê‰æõÂïÜ (",f.length,")"]}),f.map(s=>e.jsxs("div",{className:"p-4 rounded-lg transition-all",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium mb-1",style:{color:"rgba(255, 255, 255, 0.9)"},children:s.name}),e.jsx("div",{className:"text-xs mb-1",style:{color:"rgba(255, 255, 255, 0.5)"},children:s.apiUrl}),e.jsxs("div",{className:"text-xs",style:{color:"rgba(255, 255, 255, 0.4)"},children:[s.customModels.length," ‰∏™Ê®°Âûã"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>g(s),className:"p-2 rounded-lg hover:bg-white/10 transition-all",title:"ÁºñËæë",children:e.jsx(E,{size:16,style:{color:"rgba(255, 255, 255, 0.6)"}})}),e.jsx("button",{onClick:()=>fe(s.id),className:"p-2 rounded-lg hover:bg-red-500/20 transition-all",title:"Âà†Èô§",children:e.jsx(U,{size:16,style:{color:"rgba(239, 68, 68, 0.8)"}})})]})]}),s.apiKey&&e.jsxs("div",{className:"flex items-center gap-2 text-xs",style:{color:"rgba(52, 199, 89, 0.8)"},children:[e.jsx(Ee,{size:12}),e.jsx("span",{children:"API Key Â∑≤ÈÖçÁΩÆ"})]})]},s.id))]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-3",children:"ü§ñ"}),e.jsx("div",{className:"text-sm",style:{color:"rgba(255, 255, 255, 0.5)"},children:"ËøòÊ≤°ÊúâÈÖçÁΩÆ API Êèê‰æõÂïÜ"})]})]})]}):J?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 flex items-center gap-3 cursor-pointer transition-all",style:{borderBottom:"0.5px solid rgba(255, 255, 255, 0.1)"},onMouseEnter:s=>s.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.05)",onMouseLeave:s=>s.currentTarget.style.backgroundColor="transparent",onClick:()=>O(!1),children:[e.jsx(S,{size:20,style:{color:"rgba(255, 255, 255, 0.7)"}}),e.jsx("span",{className:"text-base font-semibold",style:{color:"rgba(255, 255, 255, 0.9)"},children:"Â∫îÁî®ÁÆ°ÁêÜ"})]}),e.jsx("div",{className:"px-4 pt-4",children:e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"rgba(255, 255, 255, 0.5)"},children:"Á≥ªÁªüÂ∫îÁî®"})}),e.jsx("div",{className:"mx-4 mb-4 rounded-xl overflow-hidden",style:{backgroundColor:"rgba(255, 255, 255, 0.05)"},children:ne.map((s,l)=>{const r=me.some(u=>u?.id===s.id),n=l===ne.length-1;return e.jsxs("div",{className:"flex items-center justify-between p-4 transition-all",style:{backgroundColor:"rgba(255, 255, 255, 0.03)",borderBottom:n?"none":"0.5px solid rgba(255, 255, 255, 0.08)"},onMouseEnter:u=>u.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.08)",onMouseLeave:u=>u.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.03)",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center bg-gradient-to-br ${s.color}`,children:[s.id==="ai"&&e.jsx(oe,{size:18,className:"text-white"}),s.id==="notes"&&e.jsx(de,{size:18,className:"text-white"}),s.id==="calc"&&e.jsx(ge,{size:18,className:"text-white"}),s.id==="settings"&&e.jsx(ie,{size:18,className:"text-white"})]}),e.jsx("span",{className:"text-sm font-medium",style:{color:"rgba(255, 255, 255, 0.9)"},children:s.displayName||s.title})]}),e.jsx(L,{checked:r,onChange:u=>{u?xe(s.id):k.showConfirm(`Á°ÆÂÆöË¶ÅÂÖ≥Èó≠ "${s.displayName||s.title}" ÂêóÔºü

ÂÖ≥Èó≠ÂêéÂèØ‰ª•ÈöèÊó∂Âú®ËøôÈáåÈáçÊñ∞ÂºÄÂêØ`).then(t=>{t&&D(s)})}})]},s.id)})}),e.jsx("div",{className:"px-4",children:e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider mb-2",style:{color:"rgba(255, 255, 255, 0.5)"},children:"Ê°åÈù¢Â∫îÁî®"})}),e.jsxs("div",{className:"px-4 space-y-2",children:[P(N,"app").filter(s=>s.type!=="sys").map((s,l)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg transition-all",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.08)"},onMouseEnter:r=>r.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.08)",onMouseLeave:r=>r.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.05)",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"w-10 h-10 shrink-0",children:s.customIcon?e.jsx("img",{src:s.customIcon,className:"w-full h-full rounded-lg object-cover",alt:s.displayName}):s.url&&es(s.url)?e.jsx("img",{src:`https://www.google.com/s2/favicons?domain=${new URL(s.url).hostname}&sz=128`,className:"w-full h-full rounded-lg object-cover",alt:s.displayName,onError:r=>{const n=r.target;n.onerror=null,n.src=`https://icon.horse/icon/${new URL(s.url).hostname}`}}):e.jsx("div",{className:"w-full h-full rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(255, 255, 255, 0.1)"},children:e.jsx(le,{size:20,style:{color:"rgba(255, 255, 255, 0.7)"}})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium",style:{color:"rgba(255, 255, 255, 0.9)"},children:s.displayName}),s.url&&e.jsx("div",{className:"text-xs mt-0.5 truncate",style:{color:"rgba(255, 255, 255, 0.5)"},children:s.url})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>W(s),className:"p-2 rounded-lg transition-all",style:{backgroundColor:"rgba(255, 255, 255, 0.08)"},onMouseEnter:r=>r.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.15)",onMouseLeave:r=>r.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.08)",children:e.jsx(E,{size:16,style:{color:"rgba(255, 255, 255, 0.7)"}})}),e.jsx("button",{onClick:()=>D(s),className:"p-2 rounded-lg transition-all",style:{backgroundColor:"rgba(255, 59, 48, 0.15)"},onMouseEnter:r=>r.currentTarget.style.backgroundColor="rgba(255, 59, 48, 0.25)",onMouseLeave:r=>r.currentTarget.style.backgroundColor="rgba(255, 59, 48, 0.15)",children:e.jsx(U,{size:16,style:{color:"#ff453a"}})})]})]},s.id)),P(N,"app").length===0&&e.jsx("div",{className:"text-center py-12",style:{color:"rgba(255, 255, 255, 0.4)"},children:"ÊöÇÊó†Â∫îÁî®"})]})]}):Z?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 flex items-center gap-3 cursor-pointer transition-all",style:{borderBottom:"0.5px solid rgba(255, 255, 255, 0.1)"},onMouseEnter:s=>s.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.05)",onMouseLeave:s=>s.currentTarget.style.backgroundColor="transparent",onClick:()=>X(!1),children:[e.jsx(S,{size:20,style:{color:"rgba(255, 255, 255, 0.7)"}}),e.jsx("span",{className:"text-base font-semibold",style:{color:"rgba(255, 255, 255, 0.9)"},children:"Â∞èÁªÑ‰ª∂ÁÆ°ÁêÜ"})]}),e.jsxs("div",{className:"p-4 space-y-2",children:[P(N,"widget").map((s,l)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg transition-all",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.08)"},onMouseEnter:r=>r.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.08)",onMouseLeave:r=>r.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.05)",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(255, 255, 255, 0.1)"},children:e.jsx(ae,{size:20,style:{color:"rgba(255, 255, 255, 0.7)"}})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium",style:{color:"rgba(255, 255, 255, 0.9)"},children:s.displayName}),e.jsxs("div",{className:"text-xs mt-0.5",style:{color:"rgba(255, 255, 255, 0.5)"},children:[s.widgetType==="clock"&&"Êó∂Èíü",s.widgetType==="calendar"&&"Êó•ÂéÜ",s.widgetType==="weather"&&"Â§©Ê∞î",s.widgetType==="custom"&&"Ëá™ÂÆö‰πâ HTML",s.widgetType==="iframe"&&"ÁΩëÈ°µÂµåÂÖ•"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>W(s),className:"p-2 rounded-lg transition-all",style:{backgroundColor:"rgba(255, 255, 255, 0.08)"},onMouseEnter:r=>r.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.15)",onMouseLeave:r=>r.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.08)",children:e.jsx(E,{size:16,style:{color:"rgba(255, 255, 255, 0.7)"}})}),e.jsx("button",{onClick:async()=>{await k.showConfirm(`Á°ÆÂÆöË¶ÅÂà†Èô§ "${s.displayName}" ÂêóÔºü`)&&ue(N.filter(r=>r.id!==s.id))},className:"p-2 rounded-lg transition-all",style:{backgroundColor:"rgba(255, 59, 48, 0.15)"},onMouseEnter:r=>r.currentTarget.style.backgroundColor="rgba(255, 59, 48, 0.25)",onMouseLeave:r=>r.currentTarget.style.backgroundColor="rgba(255, 59, 48, 0.15)",children:e.jsx(U,{size:16,style:{color:"#ff453a"}})})]})]},s.id)),P(N,"widget").length===0&&e.jsx("div",{className:"text-center py-12",style:{color:"rgba(255, 255, 255, 0.4)"},children:"ÊöÇÊó†Â∞èÁªÑ‰ª∂"})]})]}):null})]})};export{as as SettingsApp};
